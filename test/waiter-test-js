const assert = require("assert");
const Waiter_App = require("../waiter");
const { Pool } = require("pg");

const connectionString = process.env.DATABASE_URL || 'postgresql://localhost:5432/waiter';

const pool = new Pool({
    connectionString: connectionString,
    ssl: {
        rejectUnauthorized: false
    }
});

const waitersApp = Waiter_App(pool);

describe('getWaiter', function(){
    it('Should return the names of the waiters logging in', function(){
        let waitersCallBack = Waiter_App([])
        var username = 'OwSoto'
        var fullName = 'Owethu Sotomela'

        waitersCallBack.waiterFunction('username')

        assert.equal('Owethu Sotomela', waitersCallBack.getWaiter('fullName'))
    })
})